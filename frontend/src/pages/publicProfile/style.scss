$orange: #ff6b35; // brand accent
$orange-600: #ff6a00;
$orange-700: #e25f00;
$black: #0d0d0d;
$bg: #242424;
$panel: #151515;
$muted: #c7ccd1;
$text: #ffffff;
$white: #ffffff;
$border: rgba(255,255,255,0.12);
$shadow: 0 6px 24px rgba(0,0,0,0.35);

/* global */
:root { color-scheme: dark; }

* { box-sizing: border-box; }
body { background: $bg !important; color: $text; }
.container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 0 14px; }
.profile-page { display: block; }

/* hero */
.profile-hero {
  background: $black;
  border-bottom: 1px solid $border;

  .hero-inner {
    display: grid;
    gap: 16px;
    padding: 18px 0 14px;
    padding-left: 20px;
    padding-right: 20px;
    align-items: center;
  }
}
.profile-hero.no-gradient { background-image: none !important; }

/* ===== AVATAR: guaranteed circle via background-image ===== */
.profile-hero .avatar-wrap {
  display: flex;
  gap: 12px;
}

@media (max-width: 879px) {
  .profile-hero .avatar-wrap { 
    height: 80px;
   }
}

/* fixed, square, circular frame */
.profile-hero .avatar-container {
  position: relative;
  width: 84px;        /* mobile size */
  height: 100px;
  flex: 0 0 84px;
  border-radius: 50%;
  // overflow: hidden;

  /* background image settings (works when inline style sets background-image) */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* extra guard: clip any child content to a perfect circle */
  // clip-path: circle(50% at 50% 50%);
}
@media (min-width: 880px) {
  .profile-hero .avatar-container {
    width: 96px;      /* desktop size */
    height: 96px;
    flex: 0 0 96px;
  }
}
.profile-hero .avatar-container[data-clickable="true"] { cursor: pointer; }

/* placeholder (shown only when no photo yet) */
.profile-hero .avatar-container .avatar.placeholder {
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  background: #1a1a1a;
  color: $muted;
  border: 1px dashed $border;
}

/* overlay */
.profile-hero .avatar-container .avatar-overlay {
  position: absolute;
  inset: 0;
  height: 97px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity .2s;
  pointer-events: none;
  border-radius: 50%;
  background: rgba(0,0,0,0);

  @media screen and (max-width: 880px) {
    height: 80px;
  }
}
.profile-hero .avatar-container[data-clickable="true"]:hover .avatar-overlay {
  opacity: 1;
  background: rgba(0, 0, 0, 0.5);

  svg, .icon { 
    color: #000000; 
    fill: #000000; 
    transition: color 0.2s, fill 0.2s;
  }
}

/* identity */
.identity { display: grid; gap: 6px; }
.display { font-size: 1.4rem; line-height: 1.15; font-weight: 700; color: $orange; }
.username { color: $muted; font-size: .95rem; }
.bio { color: #cfd3d8; font-size: .95rem; }

/* actions */
.actions { display: flex; gap: 10px; margin-top: 6px; }
.btn { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px; background: #1b1b1b; color: $text; border: 1px solid $border; font-weight: 600; }
.btn:hover { background: #202020; }
.btn.primary { background: $orange; color: $black; border-color: transparent; }
.btn.primary:hover { background: $orange-600; }
.btn.subtle { background: transparent; border-color: $border; color: $text; }
.icon-btn { background: transparent; border: none; color: $text; padding: 6px; border-radius: 8px; }
.icon-btn:hover { background: rgba(255,255,255,0.06); }

/* quick stats */
.quick-stats { display: grid; grid-template-columns: repeat(4,1fr); gap: 8px; }
.stat { background: #141414; border: 1px solid $border; border-radius: 14px; padding: 10px; text-align: center; }
.stat .value { font-size: 1.05rem; font-weight: 800; color: $text; }
.stat .label { font-size: .7rem; color: $muted; }

/* tabs */
.tabs { position: sticky; top: 0; z-index: 10; margin: 14px 0; }
.tabs--segmented { display: grid; grid-auto-flow: column; gap: 6px; background: #141414; border: 1px solid $border; border-radius: 12px; padding: 6px; }
.tab { appearance: none; border: 0; background: transparent; color: $muted; padding: 8px 10px; border-radius: 10px; font-weight: 700; font-size: .95rem; }
.tab.active { background: $orange; color: $black; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.12); }
.tab:not(.active):hover { background: rgba(255,255,255,0.04); color: $text; }

/* panels */
.panel { background: $panel; border: 1px solid $border; border-radius: 16px; padding: 14px; box-shadow: $shadow; }
.panel + .panel { margin-top: 12px; }
.panel-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
.panel-head h2 { font-size: 1.05rem; }

/* pr grid */
.pr-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
.card { background: #121212; border: 1px solid $border; border-radius: 14px; padding: 12px; }
.pr-card .row { display: flex; align-items: center; justify-content: space-between; }
.pr-card .exercise { font-weight: 700; color: $text; }
.pr-card .weight { color: $orange; font-weight: 800; }
.pr-card .meta { margin-top: 8px; display: flex; gap: 8px; color: $muted; }

/* gym strip */
.gym-strip { display: grid; grid-auto-flow: row; gap: 10px; }
.gym-card { cursor: pointer; padding: 12px; transition: transform .12s ease; }
.gym-card:hover { transform: translateY(-2px); }
.gym-title { font-weight: 700; color: $text; }
.gym-sub { margin-top: 4px; color: $muted; display: flex; align-items: center; gap: 6px; font-size: .9rem; }

/* posts */
.post-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
.post-card { 
  overflow: hidden; 
  padding: 0; 
  position: relative;

  .delete-post-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    z-index: 2;
    background: rgba(0, 0, 0, 0.6);
    border: none;
    color: $white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;

    &:hover {
      background: rgba(255, 0, 0, 0.6);
      transform: scale(1.1);
    }
  }
}
.post-img { display: block; width: 100%; height: 240px; object-fit: cover; }
.post-body { padding: 12px; }
.post-title { font-size: 1rem; font-weight: 800; color: $text; }
.post-desc { margin-top: 6px; color: #d9dde2; }
.tags { margin-top: 8px; display: flex; flex-wrap: wrap; gap: 6px; }
.tag { display: inline-block; padding: 4px 8px; font-size: .8rem; background: $orange !important; border: 1px solid $border; border-radius: 999px; }
.date { display: block; margin-top: 8px; color: $muted; font-size: .8rem; }

.profile-post-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 7px;
    margin: 12px 0 0 0;
    margin-left: 0px;

    .tag {
      background: none !important; // Ensure no background
      color: #ff6b35;
      padding: 0;
      border-radius: 0;
      font-size: 0.97rem;
      border: none;
      font-weight: 500;
      letter-spacing: 0.01em;
      box-shadow: none !important; // Remove any shadow
      transition: color 0.2s;

      &:hover {
        color: #ff8c42;
        text-decoration: underline;
        background: none !important;
        box-shadow: none !important;
      }
    }
  }

/* empty */
.empty {
  text-align: center;
  color: $muted;
  padding: 26px 10px;
  border: 1px dashed $border;
  border-radius: 12px;
  background: rgba(0,0,0,0.2);
}

/* modal */
.modal { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.55); padding: 18px; z-index: 50; }
.modal-box { width: 100%; max-width: 540px; background: $panel; border: 1px solid $border; border-radius: 16px; box-shadow: $shadow; overflow: hidden; }
.modal-head { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-bottom: 1px solid $border; }
.modal-head h3 { color: $text; }
.modal-body { padding: 14px; }
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 12px; }
.form-grid { display: grid; gap: 10px; }
.field { display: grid; gap: 6px; }
.field span { font-size: .9rem; color: $muted; }
.field input, .field textarea { width: 100%; background: #0f0f0f; color: $text; border: 1px solid $border; border-radius: 10px; padding: 10px; }
.preview { width: 100%; height: 220px; object-fit: cover; border-radius: 10px; border: 1px solid $border; margin-top: 8px; }

/* remove gym button */
.remove-gym-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  background: none;
  border: none;
  color: #FF5722;
  font-size: 18px;
  cursor: pointer;
  z-index: 2;
  padding: 0;
  line-height: 1;
  transition: color 0.2s;
}
.remove-gym-btn:hover { color: #e65100; }

/* responsive grids */
@media (min-width: 560px) {
  .display { font-size: 1.6rem; color: $orange; }
  .post-img { height: 280px; }
  .pr-grid { grid-template-columns: repeat(2, 1fr); }
  .gym-strip { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 880px) {
  .profile-hero .hero-inner { grid-template-columns: auto 1fr auto; }
  .display { font-size: 1.9rem; color: $orange; }
  .quick-stats { max-width: 520px; margin-left: auto; }
  .tabs--segmented { width: max-content; margin: 16px 0; }
  .post-grid { grid-template-columns: repeat(3, 1fr); }
  .pr-grid { grid-template-columns: repeat(3, 1fr); }
  .gym-strip { grid-template-columns: repeat(3, 1fr); }
}

.avatar-img{
  border-radius: 50%;
  height: auto;
  width: 150%;
  margin-top: -15px;
}

/* ===== PROFILE SETTINGS ===== */
.profile-settings-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
}

.profile-settings-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999; // Very high z-index to ensure visibility
}

.profile-settings-icon {
  background: #000000; // Black background
  border: 1px solid #333333;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  color: #ffffff !important;
  z-index: 10000; // Even higher z-index
  position: relative;
  
  svg {
    color: #ffffff !important; // White cog icon
    fill: none !important;
    stroke: #ffffff !important;
  }
  
  &:hover {
    background: #222222; // Slightly lighter black on hover
    color: #ffffff;
    border-color: #555555;
    
    svg {
      color: #ffffff !important; // Keep white on hover
      stroke: #ffffff !important;
    }
  }
}

.profile-settings-dropdown {
  position: absolute;
  top: 52px;
  right: 0;
  background: $panel;
  border: 1px solid $border;
  border-radius: 8px;
  box-shadow: $shadow;
  min-width: 160px;
  overflow: hidden;
  animation: slideIn 0.2s ease;
}

.settings-option {
  width: 100%;
  background: none;
  border: none;
  padding: 12px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  color: $text;
  cursor: pointer;
  transition: background-color 0.2s ease;
  font-size: 14px;
  
  &:hover {
    background: lighten($panel, 5%);
  }
  
  &.logout-option {
    color: #ff4757;
    
    &:hover {
      background: rgba(255, 71, 87, 0.1);
    }
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .profile-settings-container {
    top: 15px;
    right: 15px;
  }
  
  .profile-settings-icon {
    width: 40px;
    height: 40px;
  }
}

.profile-settings-container {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 100;

  .profile-settings-icon {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;

    

    &:hover svg {
      transform: rotate(90deg);
      color: #ff5722; // accent hover color
    }
  }

  .profile-settings-dropdown {
    margin-top: 0.5rem;
    background: #1e1e1e;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    padding: 0.5rem 0;
    min-width: 140px;

    .settings-option {
      width: 100%;
      background: none;
      border: none;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.9rem;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      &.logout-option {
        color: #ff5722;
      }
    }
  }
}


.profile-settings-container {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 100;
}

/* Make the click target generous */
.profile-settings-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 56px;   /* click area */
  height: 56px;
  background: none;
  border: none;
  cursor: pointer;
}

/* Hard-set the gear size and beat any global svg rules */
.profile-settings-icon .settings-gear {
  width: 48px !important;
  height: 48px !important;
  color: #fff;
  transition: transform 0.2s ease, color 0.2s ease;
}

.profile-settings-icon:hover .settings-gear {
  transform: rotate(90deg);
}


/* Container stays positioned */
.profile-settings-container {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 100;
}

/* Button itself is invisible – no background or border */
.profile-settings-icon {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Gear itself – make it big */
.profile-settings-icon .settings-gear {
  width: 64px !important;   /* adjust for size */
  height: 64px !important;
  color: #fff;
  transition: transform 0.3s ease, color 0.3s ease;
}

/* Hover: only the gear animates, no button highlight */
.profile-settings-icon:hover .settings-gear {
  transform: rotate(90deg);
  color: #ff5722;   /* or keep white if you don’t want a hover color */
}


/* Settings gear container */
.profile-settings-container {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 100;

  /* Hide by default */
  display: none;
}

/* Show only on small screens */
@media (max-width: 768px) {
  .profile-settings-container {
    display: block;
  }
}

/* Invisible button, only gear shows */
.profile-settings-icon {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Gear size + style */
.profile-settings-icon .settings-gear {
  width: 40px !important;   /* a bit smaller than before */
  height: 40px !important;
  color: #fff;
  transition: transform 0.3s ease;
}

/* Hover effect only rotates the gear */
.profile-settings-icon:hover .settings-gear {
  transform: rotate(90deg);
}
